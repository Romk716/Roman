# Workflow: правила работы с ветками и коммитами

- Ветка `main` является основной. Прямые коммиты в `main` запрещены.
- Любое изменение выполняется в отдельной ветке и попадает в `main` через Pull Request.

## Именование веток
Формат: `type/short-topic`, где `type` может быть:
- `feature` – новая функциональность
- `fix` – исправление ошибки
- `docs` – документация
- `chore` – обслуживание (настройка, зависимости)
- `test` – тесты

Примеры: `docs/workflow-rules`, `feature/add-parser`, `fix/date-format`.

## Коммиты
- Один коммит = одна законченная мысль.
- Формат сообщения: `<type>: <действие>`, где `type` может быть: `feat`, `fix`, `docs`, `chore`, `test`, `refactor`.
- Примеры: `docs: add workflow rules`, `feat: add app entrypoint`, `chore: add gitignore`.

## Pull Request
- В описании указывается цель изменения, что сделано и как проверить.
- PR должен проходить локальные проверки: `ruff check .` и запуск проекта.
- Если добавлены тесты, они должны запускаться командой `pytest`.

## Почему важно делить изменения на мелкие коммиты и использовать Pull Request
Коммит «всё сразу» объединяет множество несвязанных изменений - например, новую функциональность, исправление ошибок и правки документации. Это затрудняет понимание логики изменений при последующем анализе истории, усложняет откат конкретного изменения и делает код-ревью практически невозможным. В отличие от этого, Pull Request позволяет изолировать связанные изменения в отдельной ветке, провести их ревью другими разработчиками и запустить автоматические проверки (линтеры, тесты) до слияния с основной веткой. Благодаря этому снижается риск внесения регрессий: ошибки выявляются на раннем этапе, а не попадают в основной код.
